import{a as V}from"./chunk-YWL2ZA5L.js";import{$ as L,A as x,B as I,E,I as g,J as S,K as w,L as y,M as F,N as C,O as P,P as T,Q as M,W as N,X as O,Y as R,Z as k,_ as D,aa as G,ba as j,ca as q,ea as A,k as c,l as _,m as v,n as f,o as p,p as i,q as t,r as u,t as h,y as n}from"./chunk-BIQBJZDS.js";import"./chunk-EPFNXUMS.js";import"./chunk-XR2CIPKH.js";import"./chunk-3FHHRRLK.js";import"./chunk-WK4Q6VVM.js";import"./chunk-4QCDUIMV.js";import"./chunk-TD6ND7XQ.js";import"./chunk-HC6MZPB3.js";import"./chunk-S3IVBJDW.js";import"./chunk-HNCBHURX.js";import"./chunk-3H72FJST.js";import"./chunk-LDMQELEG.js";import"./chunk-LEIMCQKJ.js";import"./chunk-RI5534BU.js";import"./chunk-JW6MK2AL.js";import"./chunk-RTD7OIC3.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-FQYCRHA2.js";import"./chunk-MCRJI3T3.js";import"./chunk-MJBR6MFX.js";import"./chunk-5JBMCYFH.js";import"./chunk-VAGLJKYH.js";import"./chunk-HOPRSEBH.js";import"./chunk-NH7O73XC.js";import"./chunk-LYYJ2XOB.js";import"./chunk-4U6PRYVA.js";import"./chunk-JGTGHJ4P.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{f as b}from"./chunk-RW4GY4BD.js";function U(o,m){o&1&&(i(0,"ion-text",14)(1,"p"),n(2,"O nome \xE9 obrigat\xF3rio."),t()())}function B(o,m){o&1&&(i(0,"ion-text",14)(1,"p"),n(2,"E-mail inv\xE1lido."),t()())}function z(o,m){o&1&&(i(0,"ion-text",14)(1,"p"),n(2,"A senha deve ter pelo menos 6 caracteres."),t()())}function H(o,m){o&1&&(i(0,"ion-text",14)(1,"p"),n(2,"As senhas n\xE3o coincidem."),t()())}var ee=(()=>{let m=class m{constructor(r,l,e){this.fb=r,this.router=l,this.db=e,this.registerForm=this.fb.group({name:["",g.required],email:["",[g.required,g.email]],password:["",[g.required,g.minLength(6)]],confirmPassword:["",g.required]},{validators:this.senhasIguais})}ngOnInit(){}senhasIguais(r){var a,s,d;let l=(a=r.get("password"))==null?void 0:a.value,e=(s=r.get("confirmPassword"))==null?void 0:s.value;return l===e?null:(d=r.get("confirmPassword"))==null?void 0:d.setErrors({senhasDiferentes:!0})}onSubmit(){return b(this,null,function*(){if(this.registerForm.valid){let{name:r,email:l,password:e,confirmPassword:a}=this.registerForm.value;(yield this.db.addUser(r,l,e,a))&&this.router.navigate(["/login"])}})}debugListUsers(){return b(this,null,function*(){let r=yield this.db.getAllUsers();console.table(r)})}goToLogin(){this.router.navigate(["/login"])}};m.\u0275fac=function(l){return new(l||m)(_(P),_(E),_(V))},m.\u0275cmp=v({type:m,selectors:[["app-register"]],decls:35,vars:6,consts:[[1,"ion-no-border","header-bg","margin-bottom-person"],[1,"primary-color-04","font-koulen"],[1,"ion-padding"],[1,"img-container"],["src","../../assets/images/cat.png","alt","Gato 'catito'"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","name","type","text","name","name","autocomplete","off"],["color","danger",4,"ngIf"],["formControlName","email","type","email","name","email","autocomplete","off"],["formControlName","password","type","password","name","password","autocomplete","off"],["formControlName","confirmPassword","type","password","name","confirmPassword","autocomplete","off"],["type","submit","expand","block",3,"disabled"],["expand","block","fill","outline","color","medium",3,"click"],["color","danger"]],template:function(l,e){if(l&1&&(i(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),n(3,"CATMOVIES"),t()()(),i(4,"ion-content",2)(5,"div",3),u(6,"ion-img",4),i(7,"p"),n(8,'"\xC9 s\xF3 preencher as informa\xE7\xF5es e ser Meow feliz."'),t()(),i(9,"form",5),h("ngSubmit",function(){return e.onSubmit()}),i(10,"ion-item")(11,"ion-label",6),n(12,"Nome completo"),t(),u(13,"ion-input",7),t(),f(14,U,3,0,"ion-text",8),i(15,"ion-item")(16,"ion-label",6),n(17,"E-mail"),t(),u(18,"ion-input",9),t(),f(19,B,3,0,"ion-text",8),i(20,"ion-item")(21,"ion-label",6),n(22,"Senha"),t(),u(23,"ion-input",10),t(),f(24,z,3,0,"ion-text",8),i(25,"ion-item")(26,"ion-label",6),n(27,"Confirmar Senha"),t(),u(28,"ion-input",11),t(),f(29,H,3,0,"ion-text",8),u(30,"br"),i(31,"ion-button",12),n(32," Cadastrar "),t(),i(33,"ion-button",13),h("click",function(){return e.goToLogin()}),n(34," Voltar ao Login "),t()()()),l&2){let a,s,d;c(9),p("formGroup",e.registerForm),c(5),p("ngIf",((a=e.registerForm.get("name"))==null?null:a.invalid)&&((a=e.registerForm.get("name"))==null?null:a.touched)),c(5),p("ngIf",((s=e.registerForm.get("email"))==null?null:s.invalid)&&((s=e.registerForm.get("email"))==null?null:s.touched)),c(5),p("ngIf",((d=e.registerForm.get("password"))==null?null:d.invalid)&&((d=e.registerForm.get("password"))==null?null:d.touched)),c(5),p("ngIf",e.registerForm.hasError("senhasDiferentes")),c(2),p("disabled",e.registerForm.invalid)}},dependencies:[O,R,j,q,N,D,k,A,L,G,I,x,T,y,S,w,M,F,C],styles:[".ion-item-container[_ngcontent-%COMP%]{margin-top:1.2rem;border-radius:2rem;overflow:hidden}.img-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.img-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;margin-top:-1.2rem;max-width:30ch;color:#8c8c8c}ion-img[_ngcontent-%COMP%]{display:block;max-width:80px}"]});let o=m;return o})();export{ee as RegisterPage};
