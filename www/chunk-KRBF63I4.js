import{A as b,B as S,P as E,S as w,W as F,X as T,Y as k,Z as z,ba as L,ca as V,g as u,h as x,k as a,l as h,m as v,n as C,o as _,p as n,q as i,r as M,s as y,t as g,u as p,v as O,w as P,x as I,y as o,z as c}from"./chunk-BIQBJZDS.js";import"./chunk-EPFNXUMS.js";import"./chunk-3FHHRRLK.js";import"./chunk-WK4Q6VVM.js";import"./chunk-4QCDUIMV.js";import"./chunk-TD6ND7XQ.js";import"./chunk-HC6MZPB3.js";import"./chunk-S3IVBJDW.js";import"./chunk-HNCBHURX.js";import"./chunk-3H72FJST.js";import"./chunk-LDMQELEG.js";import"./chunk-LEIMCQKJ.js";import"./chunk-RI5534BU.js";import"./chunk-JW6MK2AL.js";import"./chunk-RTD7OIC3.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-FQYCRHA2.js";import"./chunk-MCRJI3T3.js";import"./chunk-MJBR6MFX.js";import"./chunk-5JBMCYFH.js";import"./chunk-VAGLJKYH.js";import"./chunk-HOPRSEBH.js";import"./chunk-NH7O73XC.js";import"./chunk-LYYJ2XOB.js";import"./chunk-4U6PRYVA.js";import"./chunk-JGTGHJ4P.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{f}from"./chunk-RW4GY4BD.js";var N=["containerRef"];function A(m,s){if(m&1){let r=y();n(0,"div",5,0)(2,"ion-img",6),g("ionError",function(){u(r);let t=p();return x(t.filme.capa="assets/images/default.png")}),i(),n(3,"span",7)(4,"h1",8),o(5),i(),n(6,"span",9)(7,"span",10),o(8),i(),n(9,"span",11),o(10),i()(),n(11,"p",12),o(12),i(),n(13,"span",13),o(14," IMDb: "),n(15,"span",14),o(16),i(),M(17,"img",15),i(),n(18,"span",16)(19,"h2",17),o(20,"Dispon\xEDvel em:"),i(),n(21,"span",18),o(22),i()()(),n(23,"ion-button",19),g("click",function(){u(r);let t=p();return x(t.carregarFilmeAleatorio())}),o(24," escolher novamente, meow "),i()()}if(m&2){let r=p();a(2),_("src",r.filme.capa),a(3),c(r.filme.titulo),a(3),c(r.filme.genero),a(2),c(r.filme.duracao),a(2),c(r.filme.sinopse),a(4),c(r.filme.nota),a(6),c(r.filme.streaming_disponivel)}}var U=(()=>{let s=class s{constructor(e){this.navCtrl=e,this.filme={},this.FILMES_JSON="assets/dataset/filmes.json"}ngOnInit(){this.carregarFilme()}carregarFilme(){let e=localStorage.getItem("filmeEscolhido");if(e){let t=JSON.parse(e);t!=null&&t.titulo&&(t!=null&&t.capa)?this.filme=t:this.carregarFilmeAleatorio()}else this.carregarFilmeAleatorio()}carregarFilmeAleatorio(){return f(this,null,function*(){var t;let e=(t=this.containerRef)==null?void 0:t.nativeElement;e==null||e.classList.add("fade-out"),setTimeout(()=>f(this,null,function*(){try{let d=yield(yield fetch(this.FILMES_JSON)).json(),D=Math.floor(Math.random()*d.length);this.filme=d[D],localStorage.setItem("filmeEscolhido",JSON.stringify(this.filme))}catch(l){console.error("Erro ao carregar o dataset:",l),this.filme={}}e==null||e.classList.remove("fade-out"),e==null||e.classList.add("fade-in"),setTimeout(()=>e==null?void 0:e.classList.remove("fade-in"),500)}),1500)})}goToHome(){this.navCtrl.navigateBack("/home",{animated:!0,animationDirection:"back"})}};s.\u0275fac=function(t){return new(t||s)(h(w))},s.\u0275cmp=v({type:s,selectors:[["app-suggestion"]],viewQuery:function(t,l){if(t&1&&O(N,5),t&2){let d;P(d=I())&&(l.containerRef=d.first)}},decls:6,vars:1,consts:[["containerRef",""],[1,"ion-no-border","header-bg"],[1,"primary-color-04","font-koulen","title-center",2,"cursor","pointer","padding-top","35px",3,"click"],["id","main-content"],["id","container","class","center-flex animate",4,"ngIf"],["id","container",1,"center-flex","animate"],["alt","Capa do Filme",1,"cartaz",3,"ionError","src"],[1,"container-data"],[1,"movie-title","border"],[1,"data-movie","border"],[1,"gender"],[1,"duration"],[1,"synopsis","border"],[1,"imdb-rate","font-lexend","border"],[1,"rate"],["src","../../assets/images/Star Filled.png","alt","yellow-star",1,"icon"],[1,"streaming-available"],[1,"font-lexend"],[1,"streaming-list"],[1,"font-lexend","button",3,"click"]],template:function(t,l){t&1&&(n(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title",2),g("click",function(){return l.goToHome()}),o(3," CATMOVIES "),i()()(),n(4,"ion-content",3),C(5,A,25,7,"div",4),i()),t&2&&(a(5),_("ngIf",l.filme==null?null:l.filme.titulo))},dependencies:[S,b,E,k,V,L,T,F,z],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.movie-title[_ngcontent-%COMP%]{align-self:center;font-family:Lexend;font-size:1.5rem;font-weight:700;max-width:23ch;text-align:start;margin-bottom:0}.synopsis[_ngcontent-%COMP%]{max-width:40ch;text-align:start;font-size:1rem;padding:1rem 0;display:flex;flex-direction:column;gap:.5rem}.cartaz[_ngcontent-%COMP%]{max-width:170px;max-height:250px;border:4px solid var(--primary-color-03);border-radius:2rem;overflow:hidden}.gender[_ngcontent-%COMP%]{align-self:start;font-size:1rem;padding:.2rem .8rem;border:1px solid var(--primary-color-02);border-radius:1.2rem}.data-movie[_ngcontent-%COMP%]{align-self:center;display:inline-block;margin-top:.5rem}.duration[_ngcontent-%COMP%]{margin-left:.5rem;color:var(--neutral-color-06)}.icon[_ngcontent-%COMP%]{display:inline-block;width:1.5rem}.imdb-rate[_ngcontent-%COMP%]{padding:.2rem 0px;font-size:1.2rem;display:flex;align-items:center;gap:.5rem;color:var(--neutral-color-12)}.streaming-available[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-self:center;gap:.5rem}.streaming-available[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem;font-weight:200;color:var(--neutral-color-13);margin:0;margin-bottom:.5rem}.streaming-list[_ngcontent-%COMP%]{display:flex;gap:1rem}ion-button[_ngcontent-%COMP%]{margin-top:1rem}.container-data[_ngcontent-%COMP%]{text-align:start;padding-left:2.2rem;padding-right:2.2rem}.animate[_ngcontent-%COMP%]{transition:opacity .5s ease,transform .5s ease}.fade-out[_ngcontent-%COMP%]{opacity:0;transform:scale(.95)}.fade-in[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.title-center[_ngcontent-%COMP%]{text-align:center;width:100%}"]});let m=s;return m})();export{U as SuggestionPage};
