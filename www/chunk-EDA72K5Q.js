import{a as R}from"./chunk-YWL2ZA5L.js";import{$ as j,A as I,B as h,E as v,I as u,J as E,K as S,L as C,M as y,N as M,O as F,P,Q as w,W as O,X as T,Y as k,Z as N,_ as L,aa as B,ba as G,ca as q,ea as D,k as m,l as p,m as x,n as f,o as s,p as t,q as n,r as d,t as b,y as i}from"./chunk-BIQBJZDS.js";import"./chunk-EPFNXUMS.js";import"./chunk-XR2CIPKH.js";import"./chunk-3FHHRRLK.js";import"./chunk-WK4Q6VVM.js";import"./chunk-4QCDUIMV.js";import"./chunk-TD6ND7XQ.js";import"./chunk-HC6MZPB3.js";import"./chunk-S3IVBJDW.js";import"./chunk-HNCBHURX.js";import"./chunk-3H72FJST.js";import"./chunk-LDMQELEG.js";import"./chunk-LEIMCQKJ.js";import"./chunk-RI5534BU.js";import"./chunk-JW6MK2AL.js";import"./chunk-RTD7OIC3.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-FQYCRHA2.js";import"./chunk-MCRJI3T3.js";import"./chunk-MJBR6MFX.js";import"./chunk-5JBMCYFH.js";import"./chunk-VAGLJKYH.js";import"./chunk-HOPRSEBH.js";import"./chunk-NH7O73XC.js";import"./chunk-LYYJ2XOB.js";import"./chunk-4U6PRYVA.js";import"./chunk-JGTGHJ4P.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{f as _}from"./chunk-RW4GY4BD.js";function V(o,r){o&1&&(t(0,"ion-text",12)(1,"p"),i(2,"E-mail inv\xE1lido."),n()())}function A(o,r){o&1&&(t(0,"ion-text",12)(1,"p"),i(2,"A senha \xE9 obrigat\xF3ria."),n()())}function z(o,r){o&1&&(t(0,"ion-text",12)(1,"p",13),i(2," E-mail ou senha inv\xE1lidos. "),n()())}var te=(()=>{let r=class r{constructor(g,a,e){this.fb=g,this.router=a,this.db=e,this.loginError=!1,this.loginForm=this.fb.group({email:["",[u.required,u.email]],password:["",u.required]})}ngOnInit(){}onSubmit(){return _(this,null,function*(){if(this.loginForm.valid){let{email:g,password:a}=this.loginForm.value,e=yield this.db.validateUser(g,a);this.loginError=!e,e&&(localStorage.setItem("isLoggedIn","true"),this.router.navigate(["/suggestion"]))}})}goToRegister(){this.router.navigate(["/register"])}};r.\u0275fac=function(a){return new(a||r)(p(F),p(v),p(R))},r.\u0275cmp=x({type:r,selectors:[["app-login"]],decls:26,vars:5,consts:[[1,"ion-no-border","header-bg","margin-bottom-person"],[1,"primary-color-04","font-koulen"],[1,"ion-padding"],[1,"img-container"],["src","../../assets/images/cat.png","alt","Gato 'catito'"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","email","type","email","name","email","autocomplete","off"],["color","danger",4,"ngIf"],["formControlName","password","type","password","name","password","autocomplete","off"],["type","submit","expand","block",3,"disabled"],["expand","block","fill","outline","color","medium",3,"click"],["color","danger"],[2,"margin-top","0.5rem","text-align","center"]],template:function(a,e){if(a&1&&(t(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),i(3,"CATMOVIES"),n()()(),t(4,"ion-content",2)(5,"div",3),d(6,"ion-img",4),t(7,"p"),i(8,'"Meow, n\xE3o sabe qual filme escolher? vem que eu te ajudo."'),n()(),t(9,"form",5),b("ngSubmit",function(){return e.onSubmit()}),t(10,"ion-item")(11,"ion-label",6),i(12,"E-mail"),n(),d(13,"ion-input",7),n(),f(14,V,3,0,"ion-text",8),t(15,"ion-item")(16,"ion-label",6),i(17,"Senha"),n(),d(18,"ion-input",9),n(),f(19,A,3,0,"ion-text",8)(20,z,3,0,"ion-text",8),d(21,"br"),t(22,"ion-button",10),i(23,"Entrar"),n(),t(24,"ion-button",11),b("click",function(){return e.goToRegister()}),i(25," Criar conta "),n()()()),a&2){let l,c;m(9),s("formGroup",e.loginForm),m(5),s("ngIf",((l=e.loginForm.get("email"))==null?null:l.invalid)&&((l=e.loginForm.get("email"))==null?null:l.touched)),m(5),s("ngIf",((c=e.loginForm.get("password"))==null?null:c.invalid)&&((c=e.loginForm.get("password"))==null?null:c.touched)),m(),s("ngIf",e.loginError),m(2),s("disabled",e.loginForm.invalid)}},dependencies:[T,k,G,q,O,L,N,D,j,B,h,I,P,C,E,S,w,y,M],styles:[".login-header[_ngcontent-%COMP%]{--background: #ffffff;--ion-color-base: #ffffff;box-shadow:0 1px 2px #0000001a}.login-title[_ngcontent-%COMP%]{color:#333;font-family:Koulen,sans-serif;font-size:1.5rem;text-align:center}.img-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;margin-top:1rem}.img-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;margin-top:-1rem;margin-bottom:2rem;max-width:30ch;color:#8c8c8c;font-size:.95rem}ion-img[_ngcontent-%COMP%]{display:block;max-width:80px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;padding:1rem 0}ion-item[_ngcontent-%COMP%]{border:none;border-radius:4rem;--padding-start: 1rem;--inner-padding-end: 1rem}ion-button[_ngcontent-%COMP%]{margin-top:1rem}.cadastro[_ngcontent-%COMP%]{--background: #5d5b5b;--color: #fff}"]});let o=r;return o})();export{te as LoginPage};
